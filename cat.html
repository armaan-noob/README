<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cat Translator</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Montserrat:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #3b2d39;
            --accent: #b388ff;
            --accent2: #e1d7f7;
            --bg: #f8f6ff;
            --bg-gradient: linear-gradient(120deg, #f3eaff 0%, #f8f6ff 100%);
            --card: #fff;
            --border: #e0e4ea;
            --output-bg: #f3eaff;
            --shadow: 0 4px 32px 0 #b388ff22;
        }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Inter', Arial, sans-serif;
            background: var(--bg-gradient);
            margin: 0;
            padding: 0;
            color: var(--primary);
            min-height: 100vh;
            overflow-x: hidden;
        }
        .parallax-bg {
            position: fixed;
            top: 0; left: 0; width: 100vw; height: 100vh;
            z-index: -2;
            background: url('https://images.unsplash.com/photo-1518715308788-3005759c61d4?auto=format&fit=crop&w=1200&q=80') center/cover no-repeat;
            opacity: 0.13;
            will-change: transform;
            transition: opacity 0.5s;
        }
        .container {
            max-width: 900px;
            margin: 80px auto 48px auto;
            background: var(--card);
            border-radius: 22px;
            box-shadow: var(--shadow);
            padding: 48px 36px 36px 36px;
            border: 1px solid var(--border);
            display: flex;
            flex-direction: row;
            align-items: stretch;
            gap: 48px;
            opacity: 0;
            transform: translateY(40px);
            animation: fadeInUp 1.1s 0.3s forwards;
        }
        .left-col {
            flex: 1 1 40%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-width: 220px;
        }
        .right-col {
            flex: 2 1 60%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 32px;
        }
        h1 {
            font-family: 'Montserrat', 'Inter', Arial, sans-serif;
            text-align: center;
            color: var(--accent);
            font-weight: 800;
            font-size: 2.6rem;
            letter-spacing: 2px;
            margin-bottom: 18px;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s 0.5s forwards;
        }
        .pet-icon {
            font-size: 3.2rem;
            display: block;
            text-align: center;
            margin-bottom: 10px;
            filter: drop-shadow(0 2px 8px #b388ff33);
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s 0.6s forwards;
        }
        .record-section, .translate-section {
            margin: 28px 0 0 0;
            display: flex;
            flex-direction: column;
            gap: 14px;
        }
        .output {
            background: var(--output-bg);
            border-radius: 12px;
            padding: 18px 14px;
            margin-top: 10px;
            min-height: 36px;
            font-size: 1.12rem;
            color: #3b2d39;
            border: 1px solid var(--border);
            box-shadow: 0 1px 8px #b388ff11;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s 1.1s forwards;
        }
        button {
            background: var(--accent);
            color: #fff;
            border: none;
            border-radius: 10px;
            padding: 16px 0;
            font-size: 1.13rem;
            font-weight: 700;
            cursor: pointer;
            margin: 0;
            margin-top: 6px;
            transition: background 0.2s, box-shadow 0.2s, transform 0.2s;
            box-shadow: 0 2px 12px #b388ff22;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.9s 1s forwards;
        }
        button:hover, button:focus {
            background: var(--accent2);
            color: #3b2d39;
            box-shadow: 0 4px 24px #b388ff33;
            transform: translateY(-4px) scale(1.04);
        }
        button:active {
            transform: scale(0.98);
        }
        button:disabled {
            background: #e1d7f7;
            color: #fff;
            opacity: 0.7;
        }
        input[type=text] {
            padding: 12px 14px;
            border-radius: 10px;
            border: 1.5px solid var(--border);
            font-size: 1.13rem;
            background: #faf8ff;
            color: var(--primary);
            outline: none;
            margin-top: 2px;
            transition: border 0.2s;
        }
        input[type=text]:focus {
            border: 1.5px solid var(--accent);
        }
        #recordingStatus {
            color: var(--accent);
            font-size: 1.01rem;
            margin-top: 4px;
        }
        .back-link {
            display: block;
            text-align: center;
            margin-top: 24px;
            color: var(--accent);
            text-decoration: none;
            font-size: 1.08rem;
            font-weight: 600;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s 1.2s forwards;
        }
        .back-link:hover {
            text-decoration: underline;
            color: var(--accent2);
        }
        @media (max-width: 900px) {
            .container {
                flex-direction: column;
                min-width: unset;
                max-width: 98vw;
                padding: 18px 4vw 18px 4vw;
                gap: 0;
            }
            .left-col, .right-col {
                min-width: unset;
                width: 100%;
            }
        }
        @media (max-width: 600px) {
            .container { padding: 10vw 2vw 10vw 2vw; }
            h1 { font-size: 1.5rem; }
            button { font-size: 1.01rem; padding: 12px 0; }
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(40px); }
            to { opacity: 1; transform: none; }
        }
    </style>`
</head>
<body>
    <div class="parallax-bg" id="parallaxBg"></div>
    <div class="container">
        <div class="left-col">
            <span class="pet-icon">üê±</span>
            <h1>Cat Translator</h1>
        </div>
        <div class="right-col">
            <div class="record-section">
                <button id="recordBtn">üé§ Record Cat Sound</button>
                <span id="recordingStatus"></span>
                <div class="output" id="petTranslation"></div>
            </div>
            <div class="translate-section">
                <input type="text" id="humanInput" placeholder="Say something to your cat...">
                <button id="toPetBtn">Translate to Cat</button>
                <div class="output" id="humanToPet"></div>
            </div>
            <a class="back-link" href="index.html" id="backLink">‚Üê Back to Animal Selection</a>
        </div>
    </div>
    <script>
    // Parallax background effect
    const parallaxBg = document.getElementById('parallaxBg');
    window.addEventListener('scroll', () => {
        const y = window.scrollY;
        parallaxBg.style.transform = `translateY(${y * 0.25}px)`;
        parallaxBg.style.opacity = 0.13 + Math.min(y/1000, 0.10);
    });
    // Animate fade-in for headings, icon, outputs, button, and back link
    window.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => document.body.classList.add('fade-in'), 100);
    });
    // Fade out on navigation
    const backLink = document.getElementById('backLink');
    if (backLink) {
        backLink.addEventListener('click', function(e) {
            e.preventDefault();
            document.body.classList.remove('fade-in');
            document.body.classList.add('fade-out');
            setTimeout(() => {
                window.location = backLink.getAttribute('href');
            }, 700);
        });
    }
    // Cat translation logic
    const recordingStatus = document.getElementById('recordingStatus');
    const petTranslation = document.getElementById('petTranslation');
    const humanInput = document.getElementById('humanInput');
    const toPetBtn = document.getElementById('toPetBtn');
    const humanToPet = document.getElementById('humanToPet');
    let mediaRecorder;
    let audioChunks = [];
    const catTranslations = [
        "Feed me, peasant.",
        "I demand attention now!",
        "This is my house. You just live here.",
        "Pet me. No, stop. Yes, pet me again.",
        "I knocked it over on purpose.",
        "Nap time!",
        "I will stare at you until you feed me.",
        "I own everything I touch.",
        "Why is my bowl only half full?",
        "I will nap in the sunbeam.",
        "I see the bottom of my bowl. This is unacceptable.",
        "I will attack your feet at 3am.",
        "I demand the red dot!",
        "I will ignore you now.",
        "I will sit on your laptop.",
        "I will knock your glass off the table.",
        "I will meow for no reason.",
        "I will purr, then bite you.",
        "I will hide in this box.",
        "I will chase invisible things.",
        "I will nap in your laundry.",
        "I will judge you from afar.",
        "I will demand to go out, then in, then out again.",
        "I will bring you a gift (it's a bug).",
        "I will climb the curtains.",
        "I will nap on your face.",
        "I will demand pets, then run away.",
        "I will stare at the wall for hours.",
        "I will ignore my expensive toy for a box.",
        "I will meow at nothing.",
        "I will sleep 18 hours today.",
        "I will demand treats now!",
        "I will pounce on your toes.",
        "I will nap in the weirdest places.",
        "I will act like I haven't eaten in years.",
        "I will demand to be let in, then not come in.",
        "I will nap on your keyboard.",
        "I will demand your attention during meetings.",
        "I will nap, then nap again."
    ];
    const catSounds = [
        "Meow!",
        "Purr...",
        "Hiss!",
        "Mrrrow!",
        "Mew!"
    ];
    function getRandom(arr) {
        return arr[Math.floor(Math.random() * arr.length)];
    }
    function classifySound() {
        return getRandom(catTranslations);
    }
    function humanToPetSpeak() {
        return getRandom(catSounds);
    }
    const recordBtn = document.getElementById('recordBtn');
    recordBtn.onclick = async function() {
        petTranslation.textContent = '';
        if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
            recordingStatus.textContent = 'Audio recording not supported.';
            return;
        }
        recordBtn.disabled = true;
        recordingStatus.textContent = 'Recording...';
        audioChunks = [];
        try {
            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
            mediaRecorder = new window.MediaRecorder(stream);
            mediaRecorder.ondataavailable = e => audioChunks.push(e.data);
            mediaRecorder.onstop = () => {
                recordingStatus.textContent = '';
                setTimeout(() => {
                    petTranslation.textContent = classifySound();
                    recordBtn.disabled = false;
                }, 1000);
            };
            mediaRecorder.start();
            setTimeout(() => {
                mediaRecorder.stop();
            }, 2000);
        } catch (err) {
            recordingStatus.textContent = 'Could not access microphone.';
            recordBtn.disabled = false;
        }
    };
    toPetBtn.onclick = function() {
        const text = humanInput.value.trim();
        if (!text) {
            humanToPet.textContent = 'Type something to translate!';
            return;
        }
        humanToPet.textContent = humanToPetSpeak();
    };
    </script>
</body>
</html>
